** use emacs server *disabled*

Start the Emacs server from this instance so that all =emacsclient= calls are routed here.

#+begin_src emacs-lisp :eval no :tangle no
  (server-start)
#+end_src

** open config

shortcut to open the emacs config file with =C-c f P=

#+begin_src emacs-lisp
  (defun open-config ()
    "Opens emacs config file"
    (interactive)
    (setq find-file-visit-truename t)
    (find-file (locate-user-emacs-file "Emacs.org")))
  (global-set-key (kbd "C-c f P") 'open-config)
#+end_src

** copy line

FIXME: currently copies the complete line from beginning instead of from current cursor position
copy the current line to the killring without deleting/killing it from the buffer

#+begin_src emacs-lisp
  (defun copy-line-to-kill-ring ()
    "Copy the current line to the kill ring without killing it."
    (interactive)
    (let ((line-text (buffer-substring (line-beginning-position) (line-end-position))))
      (kill-new line-text)))
  (global-set-key (kbd "C-S-c") 'copy-line)
#+end_src

** format code

#+begin_src emacs-lisp
  (use-package format-all)
#+end_src

* dev
*** rust
**** rustic *disabled*

add rustic for a better rust development experience

#+begin_src emacs-lisp :tangle no
  (use-package rustic
    :defer t
    :hook (rust-ts-mode . rustic-mode)
    :config
    (setq rustic-lsp-client 'eglot))
#+end_src
f
*** python

show indentation

#+begin_src emacs-lisp
  (use-package highlight-indent-guides
    :hook (python-ts-mode . highlight-indent-guides-mode))
#+end_src

* keep clean
move customization variables to a sepereate file and load it *noeval*

#+begin_src emacs-lisp
  (setq custom-file (locate-user-emacs-file "custom-vars.el"))
  (load custom-file 'noerror 'nomessage)
#+end_src
** custom settings in temp file *noeval*

keep customization settings in a temporary file

#+begin_src emacs-lisp
  (setq custom-file
        (if (boundp 'server-socket-dir)
            (expand-file-name "custom.el" server-socket-dir)
          (expand-file-name (format "emacs-custom-%s.el" (user-uid)) temporary-file-directory)))
  (load custom-file t)
#+end_src

** change user-emacs-directory *noeval*

change the user-emacs-directory to keep unwanted things out of ~/.config/emacs

#+begin_src emacs-lisp
  (setq user-emacs-directory (expand-file-name "~/.cache/emacs/")
        url-history-file (expand-file-name "url/history" user-emacs-directory))
#+end_src

